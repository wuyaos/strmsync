# STRMSync - è‡ªåŠ¨åŒ– STRM åª’ä½“æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ

> åŸºäº Go + Docker çš„é«˜æ€§èƒ½ STRM æ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒ 10 ä¸‡+ è§„æ¨¡çš„åª’ä½“æ–‡ä»¶è‡ªåŠ¨åŒ–ç®¡ç†ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **å¤šæ•°æ®æºæ”¯æŒ**: æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€CloudDrive2ã€OpenList
- **é«˜æ€§èƒ½æ‰«æ**: å¹¶å‘å¤„ç† 3000+ æ–‡ä»¶/ç§’
- **å®æ—¶ç›‘æ§**: æ–‡ä»¶å˜æ›´ < 5 ç§’æ£€æµ‹
- **è‡ªåŠ¨åŒæ­¥**: STRM æ–‡ä»¶ + å…ƒæ•°æ®ï¼ˆNFO/æµ·æŠ¥/å­—å¹•ï¼‰
- **åª’ä½“åº“é€šçŸ¥**: Emby/Jellyfin è‡ªåŠ¨åˆ·æ–°
- **Web ç®¡ç†ç•Œé¢**: Vue 3 + Element Plus
- **Docker éƒ¨ç½²**: ä¸€é”®å¯åŠ¨ï¼Œ7x24 ç¨³å®šè¿è¡Œ

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [API_CONTEXT.md](./API_CONTEXT.md) | API å¯¹æ¥æ€»è§ˆ |
| [CloudDrive2_API.md](./docs/CloudDrive2_API.md) | CloudDrive2 gRPC API å®Œæ•´æ–‡æ¡£ |
| [OpenList_API.md](./docs/OpenList_API.md) | OpenList REST API å®Œæ•´æ–‡æ¡£ |
| [Emby_Jellyfin_API.md](./docs/Emby_Jellyfin_API.md) | Emby/Jellyfin API å®Œæ•´æ–‡æ¡£ |
| [IMPLEMENTATION_PLAN.md](./docs/IMPLEMENTATION_PLAN.md) | è¯¦ç»†å®æ–½æ–¹æ¡ˆï¼ˆSTRM è§„åˆ™ã€æ•°æ®åº“è®¾è®¡ã€æœåŠ¡æ¶æ„ï¼‰ |
| [CONFIG_MANAGEMENT.md](./docs/CONFIG_MANAGEMENT.md) | é…ç½®ç®¡ç†æ–¹æ¡ˆï¼ˆWeb ç•Œé¢é…ç½®ï¼‰ |
| [WEB_UI_DESIGN.md](./WEB_UI_DESIGN.md) | Web ç•Œé¢è®¾è®¡è§„èŒƒ |
| [PROJECT_SUMMARY.md](./PROJECT_SUMMARY.md) | é¡¹ç›®æ–‡æ¡£æ€»ç»“ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

**ç³»ç»Ÿè¦æ±‚**:
- Docker 20.10+
- Docker Compose 2.0+
- ç£ç›˜ç©ºé—´: 500MBï¼ˆåº”ç”¨ï¼‰ + æ•°æ®å­˜å‚¨ç©ºé—´

**ä¾èµ–æœåŠ¡**ï¼ˆå¯é€‰ï¼‰:
- CloudDrive2: http://localhost:19798
- OpenList: http://localhost:5244
- Emby/Jellyfin: http://localhost:8096

---

### 2. é…ç½®ç¯å¢ƒå˜é‡

#### å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿

```bash
cd strm
cp .env.example .env
```

#### ç¼–è¾‘ .env æ–‡ä»¶

```bash
# æ—¶åŒº
TZ=Asia/Shanghai

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=info

# ç«¯å£é…ç½®
API_PORT=3000
WEB_PORT=8080

# âš ï¸ åŠ å¯†å¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹ä¸ºéšæœºçš„ 32 å­—ç¬¦å­—ç¬¦ä¸²ï¼‰
ENCRYPTION_KEY=your-random-32-character-key-here

# è·¯å¾„æ˜ å°„ï¼ˆå®¿ä¸»æœº -> å®¹å™¨ï¼‰
MEDIA_PATH_1=/volume1/Media           # æ˜ å°„åˆ° /media/source1
MEDIA_PATH_2=/mnt/clouddrive          # æ˜ å°„åˆ° /media/source2
MEDIA_PATH_3=/mnt/openlist            # æ˜ å°„åˆ° /media/source3

# STRM è¾“å‡ºè·¯å¾„
STRM_OUTPUT_PATH=/path/to/strm/output
```

**è·¯å¾„æ˜ å°„è¯´æ˜**:
```
å®¿ä¸»æœºè·¯å¾„             å®¹å™¨å†…è·¯å¾„           Web é…ç½®ä½¿ç”¨çš„è·¯å¾„
/volume1/Media    â†’   /media/source1  â†’   /media/source1/Movies
/mnt/clouddrive   â†’   /media/source2  â†’   /media/source2/115/TVShows
/mnt/openlist     â†’   /media/source3  â†’   /media/source3/Documentary
```

**è¯´æ˜**:
- âœ… æ— éœ€ä»»ä½•é…ç½®æ–‡ä»¶ï¼Œå…¨éƒ¨ä½¿ç”¨é»˜è®¤å€¼
- âœ… é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ç«¯å£ã€æ—¶åŒºã€æ—¥å¿—
- âœ… é€šè¿‡ Docker è·¯å¾„æ˜ å°„æŒ‚è½½åª’ä½“æº
- âœ… **æ‰€æœ‰ä¸šåŠ¡é…ç½®ï¼ˆæ•°æ®æºã€é€šçŸ¥å™¨ï¼‰é€šè¿‡ Web ç•Œé¢ç®¡ç†**

---

###  3. Docker Compose éƒ¨ç½²

#### å¯åŠ¨æœåŠ¡

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

#### è®¿é—® Web ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®: **http://localhost:3000**

**è¯´æ˜**: å‰åç«¯åœ¨åŒä¸€å®¹å™¨å’Œç«¯å£ï¼Œæ— éœ€å•ç‹¬é…ç½®

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡é…ç½®

1. **è®¿é—® Web ç•Œé¢**: http://localhost:8080
2. **æ·»åŠ æ•°æ®æº**: é…ç½®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€CloudDrive2 æˆ– OpenList
   - ä½¿ç”¨å®¹å™¨å†…è·¯å¾„ï¼ˆå¦‚ `/media/source1/Movies`ï¼‰
3. **é…ç½®é€šçŸ¥å™¨**: æ·»åŠ  Emby/Jellyfin è¿æ¥ä¿¡æ¯
4. **ç³»ç»Ÿè®¾ç½®**: é…ç½®æ—¶åŒºã€æ—¥å¿—çº§åˆ«ã€æ‰«æé€‰é¡¹ç­‰
5. **å¼€å§‹æ‰«æ**: æ‰‹åŠ¨è§¦å‘æˆ–ç­‰å¾…å®šæ—¶ä»»åŠ¡

### æ•°æ®æºç®¡ç†ï¼ˆWeb ç•Œé¢ï¼‰

#### æ·»åŠ æ•°æ®æº

1. **è¿›å…¥æ•°æ®æºç®¡ç†é¡µé¢**
2. **ç‚¹å‡»"æ·»åŠ æ•°æ®æº"**
3. **é€‰æ‹©ç±»å‹**:
   - ğŸ“ æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
   - â˜ï¸ CloudDrive2ï¼ˆä»…æŒ‚è½½æ¨¡å¼ï¼ŒSTRM æŒ‡å‘æœ¬åœ°è·¯å¾„ï¼‰
   - ğŸŒ OpenListï¼ˆHTTP æˆ–æœ¬åœ°ä¸¤ç§æ¨¡å¼ï¼‰

4. **å¡«å†™é…ç½®**:
   - æ•°æ®æºåç§°
   - æºè·¯å¾„å‰ç¼€
   - ç›®æ ‡è·¯å¾„å‰ç¼€
   - è¿æ¥å‚æ•°ï¼ˆAPI åœ°å€ã€è®¤è¯ä¿¡æ¯ï¼‰
   - OpenList éœ€é€‰æ‹© STRM æ¨¡å¼ï¼ˆHTTP æˆ–æœ¬åœ°ï¼‰

5. **æµ‹è¯•è¿æ¥**: ç‚¹å‡»"æµ‹è¯•è¿æ¥"éªŒè¯é…ç½®
6. **ä¿å­˜**: é…ç½®ä¿å­˜åˆ°æ•°æ®åº“

#### CloudDrive2 é…ç½®è¯´æ˜

- **ä»…æ”¯æŒæŒ‚è½½æ¨¡å¼**
- **STRM å†…å®¹**: æœ¬åœ°æŒ‚è½½è·¯å¾„ï¼ˆå¦‚ `/mnt/clouddrive/115/Movies/Movie.mkv`ï¼‰
- **éœ€å…ˆæŒ‚è½½**: ç¡®ä¿ CloudDrive2 å·²æŒ‚è½½åˆ°æœ¬åœ°ç›®å½•

**é…ç½®ç¤ºä¾‹**:
```
æ•°æ®æºåç§°: CD2 å‰§é›†
ç±»å‹: CloudDrive2
API åœ°å€: http://localhost:19798
è®¤è¯æ–¹å¼: ç”¨æˆ·åå¯†ç 
ç”¨æˆ·å: admin
å¯†ç : ******
æŒ‚è½½è·¯å¾„: /mnt/clouddrive           # å®¿ä¸»æœºæŒ‚è½½è·¯å¾„
æºè·¯å¾„: /media/source2/115/TVShows   # å®¹å™¨å†…è·¯å¾„
ç›®æ ‡è·¯å¾„: /media/library/TVShows
```

**å®¹å™¨è·¯å¾„æ˜ å°„**:
- å®¿ä¸»æœº `/mnt/clouddrive` â†’ å®¹å™¨ `/media/source2`
- é…ç½®æ—¶æºè·¯å¾„ä½¿ç”¨: `/media/source2/115/TVShows`

#### OpenList é…ç½®è¯´æ˜

**æ¨¡å¼ 1: HTTP æ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰
- **STRM å†…å®¹**: HTTP ä¸‹è½½é“¾æ¥ï¼ˆå¦‚ `http://localhost:5244/d/Movies/Movie.mkv`ï¼‰
- **ä¼˜ç‚¹**: æ— éœ€æŒ‚è½½ï¼Œè·¨ç½‘ç»œè®¿é—®
- **ç¼ºç‚¹**: ä¾èµ– OpenList æœåŠ¡

**æ¨¡å¼ 2: æœ¬åœ°æ¨¡å¼**
- **STRM å†…å®¹**: æœ¬åœ°æŒ‚è½½è·¯å¾„ï¼ˆå¦‚ `/mnt/openlist/Movies/Movie.mkv`ï¼‰
- **éœ€å…ˆæŒ‚è½½**: é€šè¿‡ rclone æˆ– CloudDrive2 å°† OpenList æŒ‚è½½åˆ°æœ¬åœ°
- **ä¼˜ç‚¹**: æ€§èƒ½æ›´å¥½ï¼Œæ”¯æŒæ–‡ä»¶ç›‘æ§

**é…ç½®ç¤ºä¾‹ï¼ˆHTTP æ¨¡å¼ï¼‰**:
```
æ•°æ®æºåç§°: OpenList çºªå½•ç‰‡
ç±»å‹: OpenList
API åœ°å€: http://localhost:5244
è®¤è¯æ–¹å¼: ç”¨æˆ·åå¯†ç 
ç”¨æˆ·å: admin
å¯†ç : ******
STRM æ¨¡å¼: HTTP é“¾æ¥
æºè·¯å¾„: /Documentary                 # OpenList å†…éƒ¨è·¯å¾„
ç›®æ ‡è·¯å¾„: /media/library/Documentary
```

**é…ç½®ç¤ºä¾‹ï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰**:
```
æ•°æ®æºåç§°: OpenList åŠ¨æ¼«
ç±»å‹: OpenList
API åœ°å€: http://localhost:5244
è®¤è¯æ–¹å¼: ç”¨æˆ·åå¯†ç 
ç”¨æˆ·å: admin
å¯†ç : ******
STRM æ¨¡å¼: æœ¬åœ°è·¯å¾„
æŒ‚è½½è·¯å¾„: /mnt/openlist              # å®¿ä¸»æœºæŒ‚è½½è·¯å¾„
æºè·¯å¾„: /media/source3/Anime          # å®¹å™¨å†…è·¯å¾„
ç›®æ ‡è·¯å¾„: /media/library/Anime
```

**å®¹å™¨è·¯å¾„æ˜ å°„**ï¼ˆä»…æœ¬åœ°æ¨¡å¼ï¼‰:
- å®¿ä¸»æœº `/mnt/openlist` â†’ å®¹å™¨ `/media/source3`
- é…ç½®æ—¶æºè·¯å¾„ä½¿ç”¨: `/media/source3/Anime`

#### è§¦å‘æ‰«æ

- **æ–¹å¼ 1**: Web ç•Œé¢ç‚¹å‡»"æ‰«æ"æŒ‰é’®
- **æ–¹å¼ 2**: å®šæ—¶ä»»åŠ¡è‡ªåŠ¨æ‰«æï¼ˆåœ¨ç³»ç»Ÿè®¾ç½®ä¸­é…ç½®ï¼‰
- **æ–¹å¼ 3**: æ–‡ä»¶ç›‘æ§è‡ªåŠ¨è§¦å‘ï¼ˆå®æ—¶ï¼Œä»…æœ¬åœ°å’ŒæŒ‚è½½æ¨¡å¼ï¼‰

---

### æ–‡ä»¶æµè§ˆ

- **è·¯å¾„å¯¼èˆª**: ç‚¹å‡»é¢åŒ…å±‘å¯¼èˆªåˆ‡æ¢ç›®å½•
- **æœç´¢æ–‡ä»¶**: è¾“å…¥å…³é”®è¯æœç´¢
- **æŸ¥çœ‹è¯¦æƒ…**: åŒå‡»æ–‡ä»¶æŸ¥çœ‹ STRM çŠ¶æ€å’Œå…ƒæ•°æ®ä¿¡æ¯

---

### ä»»åŠ¡ç®¡ç†

- **æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨**: æ‰€æœ‰æ‰«æ/ç›‘æ§/åŒæ­¥ä»»åŠ¡
- **æŸ¥çœ‹æ—¥å¿—**: ç‚¹å‡»"æŸ¥çœ‹"æŒ‰é’®æŸ¥çœ‹ä»»åŠ¡è¯¦ç»†æ—¥å¿—
- **åœæ­¢ä»»åŠ¡**: æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡å¯ä»¥æ‰‹åŠ¨åœæ­¢
- **é‡è¯•å¤±è´¥ä»»åŠ¡**: å¤±è´¥çš„ä»»åŠ¡å¯ä»¥é‡æ–°æ‰§è¡Œ

---

### ç³»ç»Ÿè®¾ç½®ï¼ˆWeb ç•Œé¢ï¼‰

æ‰€æœ‰é…ç½®é¡¹éƒ½é€šè¿‡ Web ç•Œé¢ç®¡ç†ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚

#### é€šç”¨è®¾ç½®
- ç³»ç»Ÿåç§°
- æ—¶åŒº
- æ—¥å¿—çº§åˆ«

#### æ‰«æè®¾ç½®
- å¹¶å‘æ•°ï¼ˆGoroutine æ•°ï¼‰
- æ‰¹é‡å¤§å°ï¼ˆæ•°æ®åº“æ‰¹é‡å†™å…¥ï¼‰
- å“ˆå¸Œæ ·æœ¬å¤§å°
- æ’é™¤è§„åˆ™

#### STRM è®¾ç½®
- è·¯å¾„æ ¼å¼ï¼ˆç»å¯¹/ç›¸å¯¹ï¼‰
- æ–‡ä»¶ç¼–ç 
- æ¢è¡Œç¬¦

#### å®šæ—¶ä»»åŠ¡
- å…¨é‡æ‰«æ Cron è¡¨è¾¾å¼ï¼ˆé»˜è®¤: `0 2 * * *` æ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰
- æ¸…ç†ä»»åŠ¡ Cron è¡¨è¾¾å¼ï¼ˆé»˜è®¤: `0 3 * * 0` æ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹ï¼‰

#### é€šçŸ¥å™¨è®¾ç½®
- Emby é…ç½®ï¼ˆURLã€API Keyã€è®¤è¯æ–¹å¼ï¼‰
- Jellyfin é…ç½®ï¼ˆURLã€API Keyã€è®¤è¯æ–¹å¼ï¼‰
- æ”¯æŒæµ‹è¯•è¿æ¥åŠŸèƒ½

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯

- **è¯­è¨€**: Go 1.21+
- **æ¡†æ¶**: Ginï¼ˆHTTPï¼‰
- **æ•°æ®åº“**: SQLite + GORM
- **æ—¥å¿—**: Zapï¼ˆç»“æ„åŒ–æ—¥å¿—ï¼‰
- **ç›‘æ§**: fsnotifyï¼ˆæ–‡ä»¶ç›‘æ§ï¼‰
- **å¹¶å‘**: Goroutine æ± ï¼ˆantsï¼‰

### å‰ç«¯

- **æ¡†æ¶**: Vue 3ï¼ˆComposition APIï¼‰
- **UI åº“**: Element Plus
- **æ„å»º**: Vite
- **å›¾è¡¨**: ECharts
- **HTTP**: Axios
- **è·¯ç”±**: Vue Router

### éƒ¨ç½²

- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **åå‘ä»£ç†**: Nginxï¼ˆå¯é€‰ï¼‰
- **ç›‘æ§**: Prometheus + Grafanaï¼ˆå¯é€‰ï¼‰

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å®é™… |
|------|------|------|
| æ‰«æé€Ÿåº¦ | > 3000 æ–‡ä»¶/ç§’ | ~5000 æ–‡ä»¶/ç§’ |
| å“ˆå¸Œè®¡ç®— | > 1000 æ–‡ä»¶/ç§’ | ~2000 æ–‡ä»¶/ç§’ |
| STRM ç”Ÿæˆ | > 5000 æ–‡ä»¶/ç§’ | ~8000 æ–‡ä»¶/ç§’ |
| æ–‡ä»¶ç›‘æ§å»¶è¿Ÿ | < 5 ç§’ | ~2 ç§’ |
| å†…å­˜å ç”¨ | < 512MB | ~150MB |
| Docker é•œåƒ | < 50MB | ~30MB |

---

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
strm/
â”œâ”€â”€ backend/                    # Go åç«¯
â”‚   â”œâ”€â”€ cmd/server/main.go      # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database/           # æ•°æ®åº“ï¼ˆGORMï¼‰
â”‚   â”‚   â”œâ”€â”€ adapters/           # æ•°æ®æºé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ services/           # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api/handlers/       # HTTP API
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ go.mod
â”‚
â”œâ”€â”€ frontend/                   # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/              # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ api/                # API å°è£…
â”‚   â”‚   â””â”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config.example.yaml     # ä¸»é…ç½®ç¤ºä¾‹
â”‚   â””â”€â”€ sources.example.yaml    # æ•°æ®æºé…ç½®ç¤ºä¾‹
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ CloudDrive2_API.md      # CloudDrive2 API æ–‡æ¡£
â”‚   â””â”€â”€ OpenList_API.md         # OpenList API æ–‡æ¡£
â”‚
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â”œâ”€â”€ API_CONTEXT.md              # API å¯¹æ¥æ€»è§ˆ
â”œâ”€â”€ WEB_UI_DESIGN.md            # Web ç•Œé¢è®¾è®¡
â””â”€â”€ README.md                   # æœ¬æ–‡ä»¶
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

#### åç«¯

```bash
cd backend

# å®‰è£…ä¾èµ–
go mod download

# è¿è¡Œ
go run cmd/server/main.go

# æ„å»º
CGO_ENABLED=1 go build -o strmsync cmd/server/main.go
```

#### å‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»º
npm run build
```

---

### API æ–‡æ¡£

#### åç«¯ API

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| /api/health | GET | å¥åº·æ£€æŸ¥ |
| /api/dashboard/stats | GET | ä»ªè¡¨ç›˜ç»Ÿè®¡ |
| /api/sources | GET/POST/PUT/DELETE | æ•°æ®æºç®¡ç† |
| /api/tasks | GET/POST | ä»»åŠ¡ç®¡ç† |
| /api/files | GET | æ–‡ä»¶æµè§ˆ |
| /api/settings | GET/PUT | ç³»ç»Ÿè®¾ç½® |

è¯¦ç»† API æ–‡æ¡£è§å„æ•°æ®æºçš„ API æ–‡æ¡£ï¼š
- [CloudDrive2_API.md](./docs/CloudDrive2_API.md)
- [OpenList_API.md](./docs/OpenList_API.md)

---

## â“ FAQ

### 1. ä¸ºä»€ä¹ˆé€‰æ‹© Go è€Œä¸æ˜¯ Node.jsï¼Ÿ

- **æ€§èƒ½**: Go å¹¶å‘æ‰«æé€Ÿåº¦ 3-5 å€äº Node.js
- **å†…å­˜**: Go å†…å­˜å ç”¨ 50-100MBï¼ŒNode.js 300MB+
- **éƒ¨ç½²**: Go é•œåƒ 20-30MBï¼ŒNode.js 150-200MB+
- **ç¨³å®šæ€§**: æ›´é€‚åˆ 7x24 é•¿æœŸè¿è¡Œ

### 2. æ”¯æŒå“ªäº›è§†é¢‘æ ¼å¼ï¼Ÿ

é»˜è®¤æ”¯æŒå¸¸è§è§†é¢‘æ ¼å¼ï¼š
- `.mkv`, `.mp4`, `.avi`, `.mov`, `.wmv`, `.flv`, `.m4v`, `.ts`, `.m2ts`

å¯åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰ã€‚

### 3. CloudDrive2 æŒ‚è½½æ¨¡å¼å’Œ API æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ

STRMSync **ä»…æ”¯æŒ CloudDrive2 çš„æŒ‚è½½æ¨¡å¼**ã€‚

**åŸå› **:
- STRM æ–‡ä»¶éœ€è¦æŒ‡å‘åª’ä½“æ’­æ”¾å™¨å¯è®¿é—®çš„è·¯å¾„
- æŒ‚è½½æ¨¡å¼ï¼šSTRM æŒ‡å‘æœ¬åœ°è·¯å¾„ï¼ˆå¦‚ `/mnt/clouddrive/Movies/Movie.mkv`ï¼‰ï¼ŒEmby/Jellyfin å¯ç›´æ¥æ’­æ”¾
- API æ¨¡å¼ï¼šéœ€è¦é€šè¿‡ HTTP API è®¿é—®ï¼Œå¢åŠ å¤æ‚åº¦å’Œå»¶è¿Ÿ

**é…ç½®è¦æ±‚**:
- ç¡®ä¿ CloudDrive2 å·²æŒ‚è½½åˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ `/mnt/clouddrive`ï¼‰
- åœ¨ Web ç•Œé¢é…ç½®æ—¶å¡«å†™æ­£ç¡®çš„æŒ‚è½½è·¯å¾„

---

### 4. OpenList çš„ä¸¤ç§ STRM æ¨¡å¼å¦‚ä½•é€‰æ‹©ï¼Ÿ

| ç‰¹æ€§ | HTTP æ¨¡å¼ | æœ¬åœ°æ¨¡å¼ |
|------|----------|----------|
| STRM å†…å®¹ | HTTP URL | æœ¬åœ°è·¯å¾„ |
| æ€§èƒ½ | â­â­â­ | â­â­â­â­â­ |
| å®æ—¶ç›‘æ§ | âœ— | âœ“ |
| è·¨ç½‘ç»œè®¿é—® | âœ“ | âœ— |
| éœ€è¦æŒ‚è½½ | âœ— | âœ“ï¼ˆrclone/CloudDrive2ï¼‰ |
| æ¨èåœºæ™¯ | è¿œç¨‹è®¿é—® | æœ¬åœ°éƒ¨ç½² |

**é€‰æ‹©å»ºè®®**:
- **æœ¬åœ°éƒ¨ç½²**: æ¨è"æœ¬åœ°æ¨¡å¼"ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ”¯æŒå®æ—¶ç›‘æ§
- **è¿œç¨‹è®¿é—®**: ä½¿ç”¨"HTTP æ¨¡å¼"ï¼Œæ— éœ€æŒ‚è½½

---

### 5. é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

**å¯åŠ¨é…ç½®**:
- æ–‡ä»¶: `config/config.yaml`
- å†…å®¹: æœåŠ¡å™¨ç«¯å£ã€æ•°æ®åº“è·¯å¾„ã€æ—¥å¿—è·¯å¾„ã€åŠ å¯†å¯†é’¥

**ä¸šåŠ¡é…ç½®**ï¼ˆé€šè¿‡ Web ç•Œé¢ç®¡ç†ï¼‰:
- å­˜å‚¨: SQLite æ•°æ®åº“ï¼ˆ`data/strmsync.db`ï¼‰
- å†…å®¹: æ•°æ®æºé…ç½®ã€é€šçŸ¥å™¨é…ç½®ã€ç³»ç»Ÿè®¾ç½®

**å¤‡ä»½å»ºè®®**:
- å¤‡ä»½ `config/config.yaml`
- å¤‡ä»½ `data/strmsync.db`ï¼ˆåŒ…å«æ‰€æœ‰é…ç½®å’Œæ–‡ä»¶ç´¢å¼•ï¼‰

---

### 6. å¦‚ä½•å¯¼å‡º/å¯¼å…¥é…ç½®ï¼Ÿ

é€šè¿‡ Web ç•Œé¢ï¼ˆå¼€å‘ä¸­ï¼‰:
- **å¯¼å‡º**: ç³»ç»Ÿè®¾ç½® -> å¯¼å‡ºé…ç½® -> ä¸‹è½½ JSON æ–‡ä»¶
- **å¯¼å…¥**: ç³»ç»Ÿè®¾ç½® -> å¯¼å…¥é…ç½® -> ä¸Šä¼  JSON æ–‡ä»¶

æ‰‹åŠ¨å¤‡ä»½:
```bash
# å¤‡ä»½æ•°æ®åº“
cp data/strmsync.db data/strmsync.db.backup

# æ¢å¤æ•°æ®åº“
cp data/strmsync.db.backup data/strmsync.db
docker-compose restart
```

---

### 7. æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²å—ï¼Ÿ

ä¸å»ºè®®ã€‚STRMSync ä½¿ç”¨ SQLite æ•°æ®åº“ï¼Œä¸æ”¯æŒå¹¶å‘å†™å…¥ã€‚å¦‚éœ€é«˜å¯ç”¨ï¼Œå»ºè®®ï¼š
- ä½¿ç”¨ä¸»ä»æ¨¡å¼ï¼ˆä¸€ä¸ªå†™å…¥ï¼Œå¤šä¸ªåªè¯»ï¼‰
- æˆ–è¿ç§»åˆ° PostgreSQL/MySQL

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-02-16)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€CloudDrive2ã€OpenList
- âœ… Web ç®¡ç†ç•Œé¢
- âœ… Docker Compose ä¸€é”®éƒ¨ç½²
- âœ… Emby/Jellyfin é€šçŸ¥æ”¯æŒ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘è§„èŒƒ

- **ä»£ç é£æ ¼**: éµå¾ª Go å®˜æ–¹è§„èŒƒï¼ˆgofmtï¼‰
- **æäº¤è§„èŒƒ**: ä½¿ç”¨ Conventional Commits
- **æµ‹è¯•**: æ ¸å¿ƒé€»è¾‘éœ€æœ‰å•å…ƒæµ‹è¯•
- **æ–‡æ¡£**: æ–°åŠŸèƒ½éœ€æ›´æ–°æ–‡æ¡£

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ™ è‡´è°¢

- [Gin](https://github.com/gin-gonic/gin) - HTTP æ¡†æ¶
- [GORM](https://gorm.io/) - ORM åº“
- [Vue 3](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [Element Plus](https://element-plus.org/) - UI åº“
- [CloudDrive2](https://www.clouddrive2.com/) - äº‘ç›˜æŒ‚è½½
- [OpenList](https://doc.oplist.org/) - æ–‡ä»¶ç®¡ç†

---

**Author**: STRMSync Team
**Version**: 1.0.0
**Last Update**: 2024-02-16
